

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>tatk.dst.mdbt package &mdash; tatk  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="tatk.dst.mdbt.multiwoz package" href="tatk.dst.mdbt.multiwoz.html" />
    <link rel="prev" title="tatk.dst package" href="tatk.dst.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> tatk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tatk.util.html">tatk.util package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.task.html">tatk.task package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.policy.html">tatk.policy package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.nlu.html">tatk.nlu package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.nlg.html">tatk.nlg package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.evaluator.html">tatk.evaluator package</a></li>
<li class="toctree-l1"><a class="reference internal" href="tatk.e2e.html">tatk.e2e package</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tatk.dst.html">tatk.dst package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="tatk.dst.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">tatk.dst.mdbt package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tatk.dst.mdbt.mdbt">tatk.dst.mdbt.mdbt module</a></li>
<li class="toctree-l4"><a class="reference internal" href="#module-tatk.dst.mdbt.mdbt_util">tatk.dst.mdbt.mdbt_util module</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tatk.dst.rule.html">tatk.dst.rule package</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tatk.dst.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tatk.dst.html#module-tatk.dst.state_tracker">tatk.dst.state_tracker module</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tatk.dialog_agent.html">tatk.dialog_agent package</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">tatk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="tatk.dst.html">tatk.dst package</a> &raquo;</li>
        
      <li>tatk.dst.mdbt package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/tatk.dst.mdbt.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tatk-dst-mdbt-package">
<h1>tatk.dst.mdbt package<a class="headerlink" href="#tatk-dst-mdbt-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tatk.dst.mdbt.multiwoz.html">tatk.dst.mdbt.multiwoz package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tatk.dst.mdbt.multiwoz.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="tatk.dst.mdbt.multiwoz.html#module-tatk.dst.mdbt.multiwoz.mdbt">tatk.dst.mdbt.multiwoz.mdbt module</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-tatk.dst.mdbt.mdbt">
<span id="tatk-dst-mdbt-mdbt-module"></span><h2>tatk.dst.mdbt.mdbt module<a class="headerlink" href="#module-tatk.dst.mdbt.mdbt" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tatk.dst.mdbt.mdbt.MDBT">
<em class="property">class </em><code class="sig-prename descclassname">tatk.dst.mdbt.mdbt.</code><code class="sig-name descname">MDBT</code><span class="sig-paren">(</span><em class="sig-param">ontology_vectors</em>, <em class="sig-param">ontology</em>, <em class="sig-param">slots</em>, <em class="sig-param">data_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tatk.dst.html#tatk.dst.state_tracker.Tracker" title="tatk.dst.state_tracker.Tracker"><code class="xref py py-class docutils literal notranslate"><span class="pre">tatk.dst.state_tracker.Tracker</span></code></a></p>
<p>A multi-domain belief tracker, adopted from <a class="reference external" href="https://github.com/osmanio2/multi-domain-belief-tracking">https://github.com/osmanio2/multi-domain-belief-tracking</a>.</p>
<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">ontology_vectors</em>, <em class="sig-param">ontology</em>, <em class="sig-param">slots</em>, <em class="sig-param">data_dir</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.detect_requestable_slots">
<code class="sig-name descname">detect_requestable_slots</code><span class="sig-paren">(</span><em class="sig-param">observation</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.detect_requestable_slots" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.init_session">
<code class="sig-name descname">init_session</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.init_session" title="Permalink to this definition">¶</a></dt>
<dd><p>Init the class variables for a new session.</p>
</dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.normalize_history">
<code class="sig-name descname">normalize_history</code><span class="sig-paren">(</span><em class="sig-param">history</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.normalize_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace zero-length history.</p>
</dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.restore">
<code class="sig-name descname">restore</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.restore" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt.MDBT.update">
<code class="sig-name descname">update</code><span class="sig-paren">(</span><em class="sig-param">user_act=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt.MDBT.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dialog state.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-tatk.dst.mdbt.mdbt_util">
<span id="tatk-dst-mdbt-mdbt-util-module"></span><h2>tatk.dst.mdbt.mdbt_util module<a class="headerlink" href="#module-tatk.dst.mdbt.mdbt_util" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="tatk.dst.mdbt.mdbt_util.GRU">
<em class="property">class </em><code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">GRU</code><span class="sig-paren">(</span><em class="sig-param">W_h</em>, <em class="sig-param">U_h</em>, <em class="sig-param">M_h</em>, <em class="sig-param">W_m</em>, <em class="sig-param">U_m</em>, <em class="sig-param">label_size</em>, <em class="sig-param">reuse=None</em>, <em class="sig-param">binary_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.GRU" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tensorflow.python.ops.rnn_cell_impl.RNNCell</span></code></p>
<p>Create a Gated Recurrent unit to unroll the network through time
for combining the current and previous belief states</p>
<dl class="method">
<dt id="tatk.dst.mdbt.mdbt_util.GRU.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">W_h</em>, <em class="sig-param">U_h</em>, <em class="sig-param">M_h</em>, <em class="sig-param">W_m</em>, <em class="sig-param">U_m</em>, <em class="sig-param">label_size</em>, <em class="sig-param">reuse=None</em>, <em class="sig-param">binary_output=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.GRU.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt_util.GRU.output_size">
<em class="property">property </em><code class="sig-name descname">output_size</code><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.GRU.output_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer or TensorShape: size of outputs produced by this cell.</p>
</dd></dl>

<dl class="method">
<dt id="tatk.dst.mdbt.mdbt_util.GRU.state_size">
<em class="property">property </em><code class="sig-name descname">state_size</code><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.GRU.state_size" title="Permalink to this definition">¶</a></dt>
<dd><p>size(s) of state(s) used by this cell.</p>
<p>It can be represented by an Integer, a TensorShape or a tuple of Integers
or TensorShapes.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.define_CNN_model">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">define_CNN_model</code><span class="sig-paren">(</span><em class="sig-param">utter</em>, <em class="sig-param">num_filters=300</em>, <em class="sig-param">name='r'</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.define_CNN_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Better code for defining the CNN model.</p>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.evaluate_model">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">evaluate_model</code><span class="sig-paren">(</span><em class="sig-param">sess</em>, <em class="sig-param">model_variables</em>, <em class="sig-param">val_data</em>, <em class="sig-param">summary</em>, <em class="sig-param">batch_id</em>, <em class="sig-param">i</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.evaluate_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate the model against validation set</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sess</strong> – training session</p></li>
<li><p><strong>model_variables</strong> – all model input variables</p></li>
<li><p><strong>val_data</strong> – validation data</p></li>
<li><p><strong>summary</strong> – For tensorboard</p></li>
<li><p><strong>batch_id</strong> – where we are in the training data</p></li>
<li><p><strong>i</strong> – the index of the validation data to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>evaluation accuracy and the summary</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.generate_batch">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">generate_batch</code><span class="sig-paren">(</span><em class="sig-param">dialogues</em>, <em class="sig-param">batch_no</em>, <em class="sig-param">batch_size</em>, <em class="sig-param">ontology_size</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.generate_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate examples for minibatch training</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dialogues</strong> – list(num of turns, user_input vectors, system_response vectors, labels)</p></li>
<li><p><strong>batch_no</strong> – where we are in the training data</p></li>
<li><p><strong>batch_size</strong> – number of dialogues to generate</p></li>
<li><p><strong>ontology_size</strong> – no_slots</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(user_input, system_response, labels, user_sentence_length, system_sentence_length, number of turns)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.get_available_devs">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">get_available_devs</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.get_available_devs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.get_metrics">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">get_metrics</code><span class="sig-paren">(</span><em class="sig-param">predictions</em>, <em class="sig-param">true_predictions</em>, <em class="sig-param">no_turns</em>, <em class="sig-param">mask</em>, <em class="sig-param">num_slots</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.get_metrics" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.load_ontology">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_ontology</code><span class="sig-paren">(</span><em class="sig-param">url</em>, <em class="sig-param">word_vectors</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.load_ontology" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the ontology from a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> – to the ontology</p></li>
<li><p><strong>word_vectors</strong> – dictionary of the word embeddings [words, vector_dimension]</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list([domain-slot-value]), [no_slots, vector_dimension]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.load_word_vectors">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_word_vectors</code><span class="sig-paren">(</span><em class="sig-param">url</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.load_word_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the word embeddings from the url</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> – to the word vectors</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of word and vector values</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.load_woz_data">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">load_woz_data</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">word_vectors</em>, <em class="sig-param">ontology</em>, <em class="sig-param">url=True</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.load_woz_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the woz3 data and extract feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the data to load</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list of domain-slot-value</p></li>
<li><p><strong>url</strong> – Is the data coming from a url, default true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(num of turns, user_input vectors, system_response vectors, labels)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.lstm_model">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">lstm_model</code><span class="sig-paren">(</span><em class="sig-param">text_input</em>, <em class="sig-param">utterance_length</em>, <em class="sig-param">num_hidden</em>, <em class="sig-param">name</em>, <em class="sig-param">net_type</em>, <em class="sig-param">bidir</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.lstm_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Define an Lstm model that will run across the user input and system act</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text_input</strong> – [batch_size, max_num_turns, max_utterance_size, vector_dimension]</p></li>
<li><p><strong>utterance_length</strong> – number words in every utterance [batch_size, max_num_turns, 1]</p></li>
<li><p><strong>num_hidden</strong> – – int –</p></li>
<li><p><strong>name</strong> – The name of lstm network</p></li>
<li><p><strong>net_type</strong> – type of the network (“lstm” or “gru” or “rnn”)</p></li>
<li><p><strong>bidir</strong> – use a bidirectional network – bool –</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>output at each state [batch_size, max_num_turns, max_utterance_size, num_hidden],
output of the final state [batch_size, max_num_turns, num_hidden]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.model_definition">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">model_definition</code><span class="sig-paren">(</span><em class="sig-param">ontology</em>, <em class="sig-param">num_slots</em>, <em class="sig-param">slots</em>, <em class="sig-param">num_hidden=None</em>, <em class="sig-param">net_type=None</em>, <em class="sig-param">bidir=None</em>, <em class="sig-param">test=False</em>, <em class="sig-param">dev=None</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.model_definition" title="Permalink to this definition">¶</a></dt>
<dd><p>Create neural belief tracker model that is defined in my notes. It consists of encoding the user and system     input, then use the ontology to decode the encoder in manner that detects if a domain-slot-value class is mentioned</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ontology</strong> – numpy array of the embedded vectors of the ontology [num_slots, 3*vector_dimension]</p></li>
<li><p><strong>num_slots</strong> – number of ontology classes –int–</p></li>
<li><p><strong>slots</strong> – indices of the values of each slot list of lists of ints</p></li>
<li><p><strong>num_hidden</strong> – Number of hidden units or dimension of the hidden space</p></li>
<li><p><strong>net_type</strong> – The type of the encoder network cnn, lstm, gru, rnn …etc</p></li>
<li><p><strong>bidir</strong> – For recurrent networks should it be bidirectional</p></li>
<li><p><strong>test</strong> – This is testing mode (no back-propagation)</p></li>
<li><p><strong>dev</strong> – Device to run the model on (cpu or gpu)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>All input variable/placeholders output metrics (precision, recall, f1-score) and trainer</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.normalise_word_vectors">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">normalise_word_vectors</code><span class="sig-paren">(</span><em class="sig-param">word_vectors</em>, <em class="sig-param">norm=1.0</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.normalise_word_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>This method normalises the collection of word vectors provided in the word_vectors dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.process_booking">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_booking</code><span class="sig-paren">(</span><em class="sig-param">ontolog_term</em>, <em class="sig-param">usr_input</em>, <em class="sig-param">previous_terms</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.process_booking" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.process_history">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_history</code><span class="sig-paren">(</span><em class="sig-param">sessions</em>, <em class="sig-param">word_vectors</em>, <em class="sig-param">ontology</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.process_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the woz3 data and extract feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> – the data to load</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list of domain-slot-value</p></li>
<li><p><strong>url</strong> – Is the data coming from a url, default true</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list(num of turns, user_input vectors, system_response vectors, labels)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.process_text">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_text</code><span class="sig-paren">(</span><em class="sig-param">text</em>, <em class="sig-param">word_vectors</em>, <em class="sig-param">ontology=None</em>, <em class="sig-param">print_mode=False</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.process_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a line/sentence converting words to feature vectors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> – sentence</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – The ontology to do exact matching</p></li>
<li><p><strong>print_mode</strong> – Log the cases where the word is not in the pre-trained word vectors</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>[length of sentence, 300]</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.process_turn">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">process_turn</code><span class="sig-paren">(</span><em class="sig-param">turn</em>, <em class="sig-param">word_vectors</em>, <em class="sig-param">ontology</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.process_turn" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single turn extracting and processing user text, system response and labels</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>turn</strong> – dict</p></li>
<li><p><strong>word_vectors</strong> – word embeddings</p></li>
<li><p><strong>ontology</strong> – list(domain-slot-value)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>([utterance length, 300], [utterance length, 300], [no_slots])</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.track_dialogue">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">track_dialogue</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">ontology</em>, <em class="sig-param">predictions</em>, <em class="sig-param">y</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.track_dialogue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="tatk.dst.mdbt.mdbt_util.xavier_vector">
<code class="sig-prename descclassname">tatk.dst.mdbt.mdbt_util.</code><code class="sig-name descname">xavier_vector</code><span class="sig-paren">(</span><em class="sig-param">word</em>, <em class="sig-param">D=300</em><span class="sig-paren">)</span><a class="headerlink" href="#tatk.dst.mdbt.mdbt_util.xavier_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a D-dimensional vector for the word.</p>
<p>We hash the word to always get the same vector for the given word.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tatk.dst.mdbt.multiwoz.html" class="btn btn-neutral float-right" title="tatk.dst.mdbt.multiwoz package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tatk.dst.html" class="btn btn-neutral" title="tatk.dst package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, thu-coai

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>